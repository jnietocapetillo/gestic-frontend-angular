<div class="tamano">
<div class="container d-flex justify-content-center my-5">
<form [formGroup]="formUsuarioUpdate" (ngSubmit)="datosActualizados()" novalidate>
<div class="card text-dark bg-light mb-5">
  <div class="card-header"><h4>Actualizar</h4></div>
  <div class="card-body">
    <div class="d-flex flex-wrap">
        <div class="p-2 d-flex align-items-center">
            <label for="imagen">Imagen:</label>
        </div>
        <div class="p-2 d-flex align-items-center">
            <img [src]="rutaImagen" width="50px" height="50px">
        </div>
        <div class="p-2 d-flex align-items-center">
                <label for="imagen" class="form-label textoImagen">Cambiar imagen:</label>
                <input class="form-control form-control-lg" name="imagen" id="imagen" type="file" accept="image/png,image/jpeg,image/jpg" (change)="subirImagen($event)" formControlName="imagen">
        </div>
    </div>
    <div class="d-flex flex-row pt-5">
        <div class="p-2">
            <label for="nombre">Nombre<span class="obligatorio"> * </span>: </label><input class="input" type="text" name="nombre" id="nombre" formControlName="nombre" [ngClass]="{'is-invalid':!formUsuarioUpdate.get('nombre')?.valid}">
            <div class="invalid-feedback">El campo es requerido y no debe tener digitos</div>
        </div>
        <div class="p-2">
            <label for="dni">DNI<span class="obligatorio"> * </span>: </label><input class="input" type="text" name="dni" id="dni" formControlName="dni" [ngClass]="{'is-invalid':!formUsuarioUpdate.get('dni')?.valid}">
            <div class="invalid-feedback">DNI es requerido sin espacios en blanco</div>
        </div>
    </div>
    <div class="d-flex flex-row pt-3">
        <div class="p-2">
            <label for="apellidos">Apellidos<span class="obligatorio"> * </span>: </label><input class="input" type="text" name="apellidos" id="apellidos" formControlName="apellidos" [ngClass]="{'is-invalid':!formUsuarioUpdate.get('apellidos')?.valid}">
            <div class="invalid-feedback">El apellido no es correcto</div>
        </div>
        <div class="p-2">
            <label for="correo">Correo<span class="obligatorio"> * </span>: </label><input class="input" type="text" name="correo" id="correo" formControlName="correo" [ngClass]="{'is-invalid':!formUsuarioUpdate.get('correo')?.valid}">
            <div *ngIf="formUsuarioUpdate.controls['correo'].invalid" class="invalid-feedback">El correo no cumple los requisitos</div>
        </div>
    </div>
    <div class="d-flex flex-row pt-3">    
        <div class="p-2">
            <label for="telefono">Teléfono: </label><input class="input" type="text" name="movil" id="movil" formControlName="movil" [ngClass]="{'is-invalid':!formUsuarioUpdate.get('movil')?.valid}">
            <div *ngIf="formUsuarioUpdate.controls['movil'].invalid" class="invalid-feedback">Introduzca un número sin espacios</div>
        </div>
        <div class="p-2">
            <div class="row g-3 align-items-center">
                <div class="col-auto">
                    <label for="departamento">Departamento:<span class="obligatorio"> * </span></label>
                </div>
                <div class="col-auto">
                    <select class="form-select" aria-label="Default select example" name="departamento" id="departamento" formControlName="departamento">
                                                                                           <option value="{{nombreDepartamento}}" default>{{nombreDepartamento}}</option> 
                                                                                           <option *ngFor = "let departamento of departamentos" value="{{departamento.nombre}}">{{departamento.nombre}}</option>  
                                                                                           </select>
                    <div *ngIf="formUsuarioUpdate.controls['departamento'].invalid" class="invalid-feedback">El correo no cumple los requisitos</div>
                </div>
            </div>
        </div>
    </div> 
    <hr>
    <div class="d-flex flex-row pt-3">
        <div class="p-2 d-flex align-items-center">
            <label for="domicilio">Dirección: </label><input class="form-control" type="text" name="domicilio" id="domicilio" formControlName="domicilio">
            
        </div>
    </div>
    <div class="d-flex flex-row pt-3">
        <div class="p-2 d-flex align-items-center">
            <label for="municipio">Municipio: </label><input class="form-control" type="text" name="municipio" id="municipio" formControlName="municipio">
            
        </div>
        <div class="p-2 d-flex align-items-center">
            <label for="localidad">Localidad: </label><input class="form-control" type="text" name="localidad" id="localidad" formControlName="localidad">
            
        </div>
    </div> 
    <div class="d-flex flex-row pt-3">
        <div class="p-2 align-items-center">
            <label for="codigo_postal">Código Postal:</label>
        </div>
        <div class="p-2">
            <input class="form-control" type="text" name="codigo_postal" id="codigo_postal" formControlName="codigo_postal" [ngClass]="{'is-invalid':!formUsuarioUpdate.get('codigo_postal')?.valid}">
            <div *ngIf="formUsuarioUpdate.controls['codigo_postal'].invalid" class="invalid-feedback">Introduzca un CP correcto</div>
        </div>
    </div>
    <hr>
    <div class="d-flex d-flex justify-content-center">
        <div class="p-2">
        <button type="submit" [disabled] = "formUsuarioUpdate.invalid" class="btn btn-outline-secondary">Actualizar</button>
        </div>
    </div>
  </div>
</div>
</form>
</div>
</div>
